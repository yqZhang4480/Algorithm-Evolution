#2024/11/27 #解答/ #解答/已解出/ #解答/评价/时间/ #解答/评价/空间/ 

``` cpp
class Solution {
public:
    bool checkPossibility(vector<int>& nums) {
	    bool flag = false;
	    std::optional<int> prev;
	    if (nums.size() <= 1) { return true; }
	    for (size_t i = 0; i < nums.size() - 1; ++i) {
		    if (nums[i] > nums[i + 1]) {
			    if (!prev) { return std::is_sorted(std::next(nums.begin()), nums.end()); }
			    else if (*prev > nums[i] && i < nums.size() - 2 && *prev > nums[i + 2]) { return false; }
			    else if (flag) { return false; }
			    else { flag = true; }
		    }
		    prev = nums[i];
	    }
	    return true;
    }
};
```

结果