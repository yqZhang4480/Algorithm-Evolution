#2024/05/27 #解答/ #解答/已解出/多次尝试 #解答/评价/时间/50/80 #解答/评价/空间/50/少于80

``` cpp
class Solution {
public:
	vector<int> findOrder(int numCourses, vector<vector<int>>& prerequisites) {
		vector<optional<unordered_set<int>>> d(numCourses, unordered_set<int>{});
		for (auto& p : prerequisites) { d[p[0]]->emplace(p[1]); }
		vector<int> ans;
		queue<int> q;
        for (size_t i = 0; i < d.size(); ++i) {
            if (d[i] && d[i]->empty()) { q.emplace(i); }
        }
		while (!q.empty()) {
			int idx = q.front();
            d[idx] = nullopt;
            q.pop();
			ans.push_back(idx);
            cout << ans.size();
			for (size_t j = 0; j < d.size(); ++j) {
				if (auto& n = d[j]; n && n->contains(idx)) {
					n->erase(idx);
					if (n->empty()) { q.emplace(j); }
				}
            }
		}
		return ans.size() == numCourses ? ans : vector<int>{};
	}
};
```

结果

执行用时分布

3ms

击败98.98%使用 C++ 的用户

消耗内存分布

14.68MB

击败78.19%使用 C++ 的用户